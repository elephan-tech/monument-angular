<app-hero [pageTitle]="pageTitle" [heroImg]="heroImg"></app-hero>

<!-- Document Sections -->
<section class="documents-section">
  <ion-grid>
    <!-- Intro message integrated as first block -->
    <div class="intro-block">
      <ion-row>
        <ion-col size="12" sizeMd="10" sizeLg="8" class="ion-margin-auto">
          <app-animated class="animated" [animation]="'fade-up'">
            <p class="intro-text">
              Monument Academy is committed to transparency and open communication with our
              community. Below you'll find important public documents, policies, and information
              about our school operations.
            </p>
          </app-animated>
        </ion-col>
      </ion-row>
    </div>

    <div *ngFor="let section of sections; let i = index"
         class="section-block"
         [class.alt-bg]="i % 2 === 1"
         [class.highlight-section]="section.title === 'Board Meeting & Information'">

      <ion-row class="section-header-row">
        <ion-col size="12">
          <app-animated class="animated" [animation]="'fade-right'">
            <div class="section-header">
              <div class="icon-badge">
                <ion-icon [name]="section.icon"></ion-icon>
              </div>
              <div class="header-text">
                <h2>{{ section.title }}</h2>
                <p *ngIf="section.description">{{ section.description }}</p>
              </div>
            </div>
          </app-animated>
        </ion-col>
      </ion-row>

      <!-- Regular Documents Grid -->
      <ion-row class="documents-row" *ngIf="section.documents && !section.hasSubsections">
        <ion-col
          sizeXl="3"
          sizeLg="4"
          sizeMd="6"
          sizeSm="6"
          sizeXs="12"
          *ngFor="let doc of section.documents; let j = index">
          <app-animated class="animated" [animation]="'fade-up'" [delay]="j * 100">
            <div class="document-card" (click)="openDocument(doc)" [class.link-card]="doc.isRouterLink">
              <div class="card-content">
                <div class="doc-icon" [class.link-icon]="doc.isRouterLink">
                  <ion-icon [name]="doc.isRouterLink ? 'arrow-forward-circle' : 'document-text'"></ion-icon>
                </div>
                <h4 class="doc-title">{{ doc.title }}</h4>
              </div>
              <div class="card-footer" *ngIf="!doc.isRouterLink">
                <span class="download-hint">
                  <ion-icon name="cloud-download-outline"></ion-icon>
                  Download PDF
                </span>
              </div>
              <div class="card-footer" *ngIf="doc.isRouterLink">
                <span class="link-hint">
                  <ion-icon name="arrow-forward-outline"></ion-icon>
                  Go to page
                </span>
              </div>
            </div>
          </app-animated>
        </ion-col>
      </ion-row>

      <!-- Subsections (for Board Meeting section) -->
      <div *ngIf="section.hasSubsections && section.subsections" class="subsections-container">
        <div *ngFor="let sub of section.subsections" class="subsection">
          <ion-row>
            <ion-col size="12">
              <h3 class="subsection-title">
                <span class="title-text">{{ sub.title }}</span>
              </h3>
            </ion-col>
          </ion-row>
          <ion-row class="documents-row">
            <ion-col
              sizeXl="3"
              sizeLg="4"
              sizeMd="6"
              sizeSm="6"
              sizeXs="12"
              *ngFor="let doc of sub.documents; let k = index">
              <app-animated class="animated" [animation]="'fade-up'" [delay]="k * 100">
                <div class="document-card" (click)="openDocument(doc)" [class.link-card]="doc.isRouterLink">
                  <div class="card-content">
                    <div class="doc-icon" [class.link-icon]="doc.isRouterLink">
                      <ion-icon [name]="doc.isRouterLink ? 'arrow-forward-circle' : 'document-text'"></ion-icon>
                    </div>
                    <h4 class="doc-title">{{ doc.title }}</h4>
                  </div>
                  <div class="card-footer" *ngIf="!doc.isRouterLink">
                    <span class="download-hint">
                      <ion-icon name="cloud-download-outline"></ion-icon>
                      Download PDF
                    </span>
                  </div>
                  <div class="card-footer" *ngIf="doc.isRouterLink">
                    <span class="link-hint">
                      <ion-icon name="arrow-forward-outline"></ion-icon>
                      Go to page
                    </span>
                  </div>
                </div>
              </app-animated>
            </ion-col>
          </ion-row>
        </div>
      </div>
    </div>
  </ion-grid>
</section>

<!-- Contact Section -->
<section class="contact-section">
  <ion-grid class="ion-no-padding">
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" class="ion-text-center">
        <app-animated class="animated" [animation]="'fade-up'">
          <h2>Need More Information?</h2>
          <img loading="lazy" src="assets/underline-stroke.svg" class="underline-stroke" />
          <p>
            If you cannot find the information you're looking for, please don't hesitate to reach out.
          </p>
          <div class="contact-buttons">
            <ion-button routerLink="/contact-us" fill="solid" size="large" class="contact-btn">
              <ion-icon name="mail-outline" slot="start"></ion-icon>
              Contact Us
            </ion-button>
            <ion-button href="tel:+12025453180" fill="solid" size="large" class="phone-btn">
              <ion-icon name="call-outline" slot="start"></ion-icon>
              (202) 545-3180
            </ion-button>
          </div>
        </app-animated>
      </ion-col>
    </ion-row>
  </ion-grid>
</section>
